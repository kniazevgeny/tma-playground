import{jsxs as r,jsx as t}from"react/jsx-runtime";import{queryOptions as i,useSuspenseQuery as o}from"@tanstack/react-query";import{useState as u,Suspense as c}from"react";const s=()=>i({queryKey:["deferred"],queryFn:async()=>(await new Promise(e=>setTimeout(e,3e3)),{message:"Hello deferred from the server!",status:"success",time:new Date})});function a(){const e=o(s());return r("div",{children:[t("h1",{children:"Deferred Query"}),r("div",{children:["Status: ",e.data.status]}),r("div",{children:["Message: ",e.data.message]}),r("div",{children:["Time: ",e.data.time.toISOString()]})]})}const h=function(){const[n,d]=u(0);return r("div",{className:"p-2",children:[t(c,{fallback:"Loading Middleman...",children:t(a,{})}),r("div",{children:["Count: ",n]}),t("div",{children:t("button",{onClick:()=>d(n+1),children:"Increment"})})]})},y=({context:e})=>{e.queryClient.prefetchQuery(s())};export{h as component,y as loader};
